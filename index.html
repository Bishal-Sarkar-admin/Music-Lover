<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Free For All JioSaavn Fans</title>
    <link rel="icon" type="image/x-icon" href="music.png" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  </head>
  <body>
    <!-- Navigation Bar -->
    <h4 id="Active">Active Users: <span id="activeUsers">0</span></h4>
    <header>
      <ul class="nav-bar">
        <li id="menu" class="image">
          <img src="menublack.png" alt="menu" height="20" width="20" />
        </li>
        <li id="Home" class="image" onclick="loadSongsFromLocalStorage()">
          <img src="home.png" alt="Home" height="20" width="20" />
        </li>
        <li id="favourite" class="image" onclick="renderFavoriteSongs()">
          <img src="favourite.png" alt="favourite" height="20" width="20" />
        </li>

        <li id="ai" class="image">
          <img
            src="music.png"
            alt="AI Songs Suggestions"
            style="transform: scale(1.8)"
          />
        </li>
        <li id="search" class="image">
          <img
            onclick="fetchSmartSearch()"
            src="deep-learning.png"
            style="transform: scale(1.6) !important"
            alt="search"
          />
        </li>
      </ul>
    </header>

    <div class="search-container">
      <input type="text" id="song" placeholder="Enter song name..." />
      <button onclick="fetchDataAndDisplay()">Search</button>
    </div>

    <div id="loading"></div>
    <div id="error-message"></div>

    <section class="player-container">
      <img id="song-image" src="" alt="Song Cover" />

      <div class="controls">
        <div id="progress-bar">
          <div id="progress-thumb"></div>
          <!-- Add this inner div -->
        </div>
        <div id="song-title">Song Title</div>
        <div id="paly-prev-next-btn">
          <button id="prev-btn">⏮️</button>
          <button id="play-btn">▶️</button>
          <button id="next-btn">⏭️</button>
        </div>
      </div>
      <input
        type="range"
        id="volume-slider"
        min="0"
        max="1"
        step="0.1"
        value="1"
        title="Volume"
      />
    </section>

    <section class="song-list">
      <div id="smart-Server-health"></div>
      <ul id="song-list"></ul>
    </section>
    <!-- Favorites List Section -->
    <section class="favorites-list">
      <h2 class="hideandseek">Your Favorites</h2>
      <ul id="favoritesList">
        <!-- Favorite song cards will be rendered here -->
      </ul>
    </section>

    <section id="suggestionsList">
      <h2 id="instraction"></h2>

      <!-- AI song suggestions cards will be rendered here -->
    </section>
    <audio id="audio-player" controls hidden></audio>

    <footer>
      <div class="footer-content">
        <p>© 2025 Music Lover. All rights reserved.</p>
        <!-- <ul class="footer-links">
      <li><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#services">Services</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul> -->
      </div>
    </footer>
    <script>
      const socket = io("https://activeusers.onrender.com"); // Connect to server

      socket.on("activeUsers", (count) => {
        document.getElementById("activeUsers").innerText = count;
      });
    </script>

    <script src="jsonData.js"></script>
    <script src="songPlay.js"></script>
    <script src="queue.js"></script>
    <script src="ai.js"></script>
    <script src="smartSearch.js"></script>
  </body>
</html>
